{"id":"kgsV","dependencies":[{"name":"/home/joan/projectes/OSM/la_palma/html/package.json","includedInParent":true,"mtime":1634075224741}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=\"\",a=\"\",r=\"\";function i(){return t(e=\"Totes les transaccions que hi ha hagut sobre la parcel·la F-N\",a=\"SELECT id_transaction, date_transaction, P.id_parcel, code, price, name, surname FROM PARCEL P INNER JOIN TRANSACTION T ON P.id_parcel=T.id_parcel INNER JOIN OWNER O ON T.id_owner=O.id_owner WHERE code='F-N'\"),t(e=\"Les últimes transaccions que s'han fet de cada parcel·la (sense comptar la transacció inicial de quan es crea la parcel·la)\",a=\"select max(id_transaction), P.id_parcel, max(date_transaction) from PARCEL P INNER JOIN TRANSACTION T ON P.id_parcel=T.id_parcel WHERE date_transaction > '2021-10-09 00:00:00' GROUP BY id_parcel ORDER BY P.id_parcel\"),t(e=\"Parcel·les i propietari actual (que no sigui el admin)\",a=\"SELECT P.id_parcel, id_transaction, code, name, surname FROM PARCEL P INNER JOIN TRANSACTION T ON P.id_parcel=T.id_parcel INNER JOIN OWNER O ON T.id_owner=O.id_owner WHERE id_transaction IN (select max(id_transaction) from PARCEL P INNER JOIN TRANSACTION T ON P.id_parcel=T.id_parcel WHERE O.id_owner!=1 GROUP BY P.id_parcel) ORDER BY P.id_parcel\"),t(e=\"parcel·les lliures (parcel·les que el propietari és el id_owner=1)\",a=\"SELECT P.id_parcel, code FROM PARCEL P INNER JOIN TRANSACTION T ON P.id_parcel=T.id_parcel INNER JOIN OWNER O ON T.id_owner=O.id_owner WHERE id_transaction IN (select max(id_transaction) from PARCEL P INNER JOIN TRANSACTION T ON P.id_parcel=T.id_parcel GROUP BY P.id_parcel) AND O.id_owner=1 ORDER BY P.id_parcel;\"),r}function t(e,a){var i;(i=new XMLHttpRequest).onreadystatechange=function(){if(4==i.readyState&&200==i.status){var t=document.getElementById(\"info\");r=\"<h3>\"+e+\"</h3>\",r+=\"<p>\"+a+\"</p>\";var n=i.responseText,c=JSON.stringify(JSON.parse(n),null,2);r+=\"<pre>\"+c+\"</pre>\",t.innerHTML+=r}},i.open(\"POST\",\"http://localhost/LPVR/php/consultaSQL.php\",!0),i.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\"),i.send(\"cad_sql=\"+a)}var n=i;exports.default=n;"},"sourceMaps":{"js":{"mappings":[{"source":"SQL.js","name":"SQL","original":{"line":50,"column":15},"generated":{"line":1,"column":0}},{"source":"SQL.js","name":"SQL","original":{"line":50,"column":15},"generated":{"line":1,"column":13}},{"source":"SQL.js","name":"SQL","original":{"line":50,"column":15},"generated":{"line":1,"column":20}},{"source":"SQL.js","name":"SQL","original":{"line":50,"column":15},"generated":{"line":1,"column":35}},{"source":"SQL.js","name":"SQL","original":{"line":50,"column":15},"generated":{"line":1,"column":43}},{"source":"SQL.js","name":"SQL","original":{"line":50,"column":15},"generated":{"line":1,"column":56}},{"source":"SQL.js","name":"SQL","original":{"line":50,"column":15},"generated":{"line":1,"column":57}},{"source":"SQL.js","name":"SQL","original":{"line":50,"column":15},"generated":{"line":1,"column":64}},{"source":"SQL.js","name":"SQL","original":{"line":50,"column":15},"generated":{"line":1,"column":68}},{"source":"SQL.js","name":"SQL","original":{"line":50,"column":15},"generated":{"line":1,"column":76}},{"source":"SQL.js","name":"SQL","original":{"line":50,"column":15},"generated":{"line":1,"column":89}},{"source":"SQL.js","original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"SQL.js","name":"cad_enunciat","original":{"line":1,"column":4},"generated":{"line":1,"column":95}},{"source":"SQL.js","original":{"line":1,"column":19},"generated":{"line":1,"column":97}},{"source":"SQL.js","name":"cad_sql","original":{"line":2,"column":4},"generated":{"line":1,"column":100}},{"source":"SQL.js","original":{"line":2,"column":14},"generated":{"line":1,"column":102}},{"source":"SQL.js","name":"cad","original":{"line":3,"column":4},"generated":{"line":1,"column":105}},{"source":"SQL.js","original":{"line":3,"column":10},"generated":{"line":1,"column":107}},{"source":"SQL.js","original":{"line":5,"column":0},"generated":{"line":1,"column":110}},{"source":"SQL.js","name":"SQL","original":{"line":5,"column":9},"generated":{"line":1,"column":119}},{"source":"SQL.js","name":"cad","original":{"line":23,"column":8},"generated":{"line":1,"column":123}},{"source":"SQL.js","name":"consultaSQL","original":{"line":9,"column":1},"generated":{"line":1,"column":130}},{"source":"SQL.js","name":"cad_enunciat","original":{"line":7,"column":1},"generated":{"line":1,"column":132}},{"source":"SQL.js","original":{"line":7,"column":16},"generated":{"line":1,"column":134}},{"source":"SQL.js","name":"cad_sql","original":{"line":8,"column":1},"generated":{"line":1,"column":198}},{"source":"SQL.js","original":{"line":8,"column":11},"generated":{"line":1,"column":200}},{"source":"SQL.js","name":"consultaSQL","original":{"line":13,"column":1},"generated":{"line":1,"column":411}},{"source":"SQL.js","name":"cad_enunciat","original":{"line":11,"column":1},"generated":{"line":1,"column":413}},{"source":"SQL.js","original":{"line":11,"column":16},"generated":{"line":1,"column":415}},{"source":"SQL.js","name":"cad_sql","original":{"line":12,"column":1},"generated":{"line":1,"column":541}},{"source":"SQL.js","original":{"line":12,"column":11},"generated":{"line":1,"column":543}},{"source":"SQL.js","name":"consultaSQL","original":{"line":17,"column":1},"generated":{"line":1,"column":762}},{"source":"SQL.js","name":"cad_enunciat","original":{"line":15,"column":1},"generated":{"line":1,"column":764}},{"source":"SQL.js","original":{"line":15,"column":16},"generated":{"line":1,"column":766}},{"source":"SQL.js","name":"cad_sql","original":{"line":16,"column":1},"generated":{"line":1,"column":823}},{"source":"SQL.js","original":{"line":16,"column":11},"generated":{"line":1,"column":825}},{"source":"SQL.js","name":"consultaSQL","original":{"line":21,"column":1},"generated":{"line":1,"column":1175}},{"source":"SQL.js","name":"cad_enunciat","original":{"line":19,"column":1},"generated":{"line":1,"column":1177}},{"source":"SQL.js","original":{"line":19,"column":16},"generated":{"line":1,"column":1179}},{"source":"SQL.js","name":"cad_sql","original":{"line":20,"column":1},"generated":{"line":1,"column":1248}},{"source":"SQL.js","original":{"line":20,"column":11},"generated":{"line":1,"column":1250}},{"source":"SQL.js","name":"cad","original":{"line":23,"column":8},"generated":{"line":1,"column":1567}},{"source":"SQL.js","original":{"line":27,"column":0},"generated":{"line":1,"column":1569}},{"source":"SQL.js","name":"consultaSQL","original":{"line":27,"column":9},"generated":{"line":1,"column":1578}},{"source":"SQL.js","name":"cad_enunciat","original":{"line":27,"column":21},"generated":{"line":1,"column":1580}},{"source":"SQL.js","name":"cad_sql","original":{"line":27,"column":35},"generated":{"line":1,"column":1582}},{"source":"SQL.js","name":"xmlhttp","original":{"line":29,"column":6},"generated":{"line":1,"column":1585}},{"source":"SQL.js","name":"xmlhttp","original":{"line":29,"column":6},"generated":{"line":1,"column":1589}},{"source":"SQL.js","name":"xmlhttp","original":{"line":30,"column":2},"generated":{"line":1,"column":1592}},{"source":"SQL.js","original":{"line":30,"column":10},"generated":{"line":1,"column":1594}},{"source":"SQL.js","name":"XMLHttpRequest","original":{"line":30,"column":14},"generated":{"line":1,"column":1598}},{"source":"SQL.js","name":"onreadystatechange","original":{"line":31,"column":10},"generated":{"line":1,"column":1614}},{"source":"SQL.js","original":{"line":31,"column":29},"generated":{"line":1,"column":1633}},{"source":"SQL.js","name":"xmlhttp","original":{"line":33,"column":8},"generated":{"line":1,"column":1644}},{"source":"SQL.js","original":{"line":33,"column":28},"generated":{"line":1,"column":1647}},{"source":"SQL.js","name":"xmlhttp","original":{"line":33,"column":8},"generated":{"line":1,"column":1650}},{"source":"SQL.js","name":"readyState","original":{"line":33,"column":16},"generated":{"line":1,"column":1652}},{"source":"SQL.js","original":{"line":33,"column":49},"generated":{"line":1,"column":1664}},{"source":"SQL.js","name":"xmlhttp","original":{"line":33,"column":33},"generated":{"line":1,"column":1669}},{"source":"SQL.js","name":"status","original":{"line":33,"column":41},"generated":{"line":1,"column":1671}},{"source":"SQL.js","original":{"line":33,"column":54},"generated":{"line":1,"column":1678}},{"source":"SQL.js","name":"info","original":{"line":34,"column":9},"generated":{"line":1,"column":1679}},{"source":"SQL.js","name":"info","original":{"line":34,"column":9},"generated":{"line":1,"column":1683}},{"source":"SQL.js","name":"document","original":{"line":34,"column":16},"generated":{"line":1,"column":1685}},{"source":"SQL.js","name":"getElementById","original":{"line":34,"column":25},"generated":{"line":1,"column":1694}},{"source":"SQL.js","original":{"line":34,"column":40},"generated":{"line":1,"column":1709}},{"source":"SQL.js","name":"cad","original":{"line":35,"column":2},"generated":{"line":1,"column":1717}},{"source":"SQL.js","original":{"line":35,"column":8},"generated":{"line":1,"column":1719}},{"source":"SQL.js","name":"cad_enunciat","original":{"line":35,"column":17},"generated":{"line":1,"column":1726}},{"source":"SQL.js","original":{"line":35,"column":32},"generated":{"line":1,"column":1728}},{"source":"SQL.js","name":"cad","original":{"line":36,"column":2},"generated":{"line":1,"column":1736}},{"source":"SQL.js","original":{"line":36,"column":9},"generated":{"line":1,"column":1739}},{"source":"SQL.js","name":"cad_sql","original":{"line":36,"column":17},"generated":{"line":1,"column":1745}},{"source":"SQL.js","original":{"line":36,"column":27},"generated":{"line":1,"column":1747}},{"source":"SQL.js","name":"jsonString","original":{"line":37,"column":6},"generated":{"line":1,"column":1754}},{"source":"SQL.js","name":"jsonString","original":{"line":37,"column":6},"generated":{"line":1,"column":1758}},{"source":"SQL.js","name":"xmlhttp","original":{"line":37,"column":19},"generated":{"line":1,"column":1760}},{"source":"SQL.js","name":"responseText","original":{"line":37,"column":27},"generated":{"line":1,"column":1762}},{"source":"SQL.js","name":"jsonPretty","original":{"line":38,"column":6},"generated":{"line":1,"column":1775}},{"source":"SQL.js","name":"JSON","original":{"line":38,"column":19},"generated":{"line":1,"column":1777}},{"source":"SQL.js","name":"stringify","original":{"line":38,"column":24},"generated":{"line":1,"column":1782}},{"source":"SQL.js","name":"JSON","original":{"line":38,"column":34},"generated":{"line":1,"column":1792}},{"source":"SQL.js","name":"parse","original":{"line":38,"column":39},"generated":{"line":1,"column":1797}},{"source":"SQL.js","name":"jsonString","original":{"line":38,"column":45},"generated":{"line":1,"column":1803}},{"source":"SQL.js","original":{"line":38,"column":57},"generated":{"line":1,"column":1806}},{"source":"SQL.js","original":{"line":38,"column":62},"generated":{"line":1,"column":1811}},{"source":"SQL.js","name":"cad","original":{"line":39,"column":2},"generated":{"line":1,"column":1814}},{"source":"SQL.js","original":{"line":39,"column":9},"generated":{"line":1,"column":1817}},{"source":"SQL.js","name":"jsonPretty","original":{"line":39,"column":19},"generated":{"line":1,"column":1825}},{"source":"SQL.js","original":{"line":39,"column":32},"generated":{"line":1,"column":1827}},{"source":"SQL.js","name":"info","original":{"line":40,"column":2},"generated":{"line":1,"column":1836}},{"source":"SQL.js","name":"innerHTML","original":{"line":40,"column":7},"generated":{"line":1,"column":1838}},{"source":"SQL.js","name":"cad","original":{"line":40,"column":20},"generated":{"line":1,"column":1849}},{"source":"SQL.js","name":"xmlhttp","original":{"line":45,"column":2},"generated":{"line":1,"column":1853}},{"source":"SQL.js","name":"open","original":{"line":45,"column":10},"generated":{"line":1,"column":1855}},{"source":"SQL.js","original":{"line":45,"column":15},"generated":{"line":1,"column":1860}},{"source":"SQL.js","original":{"line":45,"column":22},"generated":{"line":1,"column":1867}},{"source":"SQL.js","original":{"line":45,"column":67},"generated":{"line":1,"column":1912}},{"source":"SQL.js","name":"xmlhttp","original":{"line":46,"column":2},"generated":{"line":1,"column":1915}},{"source":"SQL.js","name":"setRequestHeader","original":{"line":46,"column":10},"generated":{"line":1,"column":1917}},{"source":"SQL.js","original":{"line":46,"column":27},"generated":{"line":1,"column":1934}},{"source":"SQL.js","original":{"line":46,"column":43},"generated":{"line":1,"column":1949}},{"source":"SQL.js","name":"xmlhttp","original":{"line":47,"column":2},"generated":{"line":1,"column":1986}},{"source":"SQL.js","name":"send","original":{"line":47,"column":10},"generated":{"line":1,"column":1988}},{"source":"SQL.js","original":{"line":47,"column":15},"generated":{"line":1,"column":1993}},{"source":"SQL.js","name":"cad_sql","original":{"line":47,"column":28},"generated":{"line":1,"column":2004}},{"source":"SQL.js","name":"SQL","original":{"line":50,"column":15},"generated":{"line":1,"column":2007}},{"source":"SQL.js","name":"SQL","original":{"line":50,"column":15},"generated":{"line":1,"column":2011}},{"source":"SQL.js","name":"SQL","original":{"line":50,"column":15},"generated":{"line":1,"column":2013}},{"source":"SQL.js","name":"SQL","original":{"line":50,"column":15},"generated":{"line":1,"column":2015}},{"source":"SQL.js","name":"SQL","original":{"line":50,"column":15},"generated":{"line":1,"column":2023}},{"source":"SQL.js","name":"SQL","original":{"line":50,"column":15},"generated":{"line":1,"column":2031}}],"sources":{"SQL.js":"var cad_enunciat = \"\";\nvar cad_sql = \"\";\nvar cad = \"\";\n\nfunction SQL() {\n\t//cad = \"Consultes SQL\";\n\tcad_enunciat = \"Totes les transaccions que hi ha hagut sobre la parcel·la F-N\";\n\tcad_sql = \"SELECT id_transaction, date_transaction, P.id_parcel, code, price, name, surname FROM PARCEL P INNER JOIN TRANSACTION T ON P.id_parcel=T.id_parcel INNER JOIN OWNER O ON T.id_owner=O.id_owner WHERE code='F-N'\";\n\tconsultaSQL(cad_enunciat, cad_sql);\n\n\tcad_enunciat = \"Les últimes transaccions que s'han fet de cada parcel·la (sense comptar la transacció inicial de quan es crea la parcel·la)\";\n\tcad_sql = \"select max(id_transaction), P.id_parcel, max(date_transaction) from PARCEL P INNER JOIN TRANSACTION T ON P.id_parcel=T.id_parcel WHERE date_transaction > '2021-10-09 00:00:00' GROUP BY id_parcel ORDER BY P.id_parcel\";\n\tconsultaSQL(cad_enunciat, cad_sql);\n\n\tcad_enunciat = \"Parcel·les i propietari actual (que no sigui el admin)\";\n\tcad_sql = \"SELECT P.id_parcel, id_transaction, code, name, surname FROM PARCEL P INNER JOIN TRANSACTION T ON P.id_parcel=T.id_parcel INNER JOIN OWNER O ON T.id_owner=O.id_owner WHERE id_transaction IN (select max(id_transaction) from PARCEL P INNER JOIN TRANSACTION T ON P.id_parcel=T.id_parcel WHERE O.id_owner!=1 GROUP BY P.id_parcel) ORDER BY P.id_parcel\";\n\tconsultaSQL(cad_enunciat, cad_sql);\n\n\tcad_enunciat = \"parcel·les lliures (parcel·les que el propietari és el id_owner=1)\";\n\tcad_sql = \"SELECT P.id_parcel, code FROM PARCEL P INNER JOIN TRANSACTION T ON P.id_parcel=T.id_parcel INNER JOIN OWNER O ON T.id_owner=O.id_owner WHERE id_transaction IN (select max(id_transaction) from PARCEL P INNER JOIN TRANSACTION T ON P.id_parcel=T.id_parcel GROUP BY P.id_parcel) AND O.id_owner=1 ORDER BY P.id_parcel;\";\n\tconsultaSQL(cad_enunciat, cad_sql);\n\t\n\treturn cad;\n\n}\n\nfunction consultaSQL(cad_enunciat, cad_sql) {\n\n  var xmlhttp;\n  xmlhttp=new XMLHttpRequest();\n  xmlhttp.onreadystatechange=function() {\n\n    if (xmlhttp.readyState==4 && xmlhttp.status==200) {\n    \tvar info = document.getElementById('info');\n\t\tcad = '<h3>' + cad_enunciat + \"</h3>\";\n\t\tcad += '<p>' + cad_sql + '</p>';\n\t\tlet jsonString = xmlhttp.responseText;\n\t\tlet jsonPretty = JSON.stringify(JSON.parse(jsonString),null,2);  \n\t\tcad += '<pre>' + jsonPretty + '</pre>';\n\t\tinfo.innerHTML += cad;\n\t\t//console.log(cad);\n    }\n  }\n\n  xmlhttp.open(\"POST\",\"http://localhost/LPVR/php/consultaSQL.php\", true)\n  xmlhttp.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n  xmlhttp.send(\"cad_sql=\" + cad_sql);\n}\n\nexport default SQL;"},"lineCount":null}},"error":null,"hash":"e4f595957c451d7620dfb81f370b071c","cacheData":{"env":{}}}